# .env.sample
NATS_URL=nats://127.0.0.1:4222
# worker
THUMB_DIR=./data/thumbs
THUMB_WIDTH=512
THUMB_HEIGHT=512
THUMBNAIL_SIZES=thumbnail:300x300,preview:800x600,full:1920x1080

# simple-process jobs
PROCESS_SUBJECT=simple-process.jobs
PROCESS_QUEUE=thumbnail-workers

# result subject
SUBJECT_IMAGE_THUMBNAIL_DONE=images.thumbnail.done

# backfill settings (optional - leave empty to process all content)
# BACKFILL_OWNER_ID=aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa
# BACKFILL_TENANT_ID=aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa

# Must match the size names from THUMBNAIL_SIZES (before the colon)
THUMBNAIL_SIZES_BACKFILL=thumbnail,preview,full

# Status Fixing
# When -fix-status is enabled, backfill verifies and updates content_derived status:
# - Checks that all thumbnail variants exist
# - Verifies derived content and objects are uploaded
# - Updates content_derived.status to 'processed' when verified
# - Uses 'processed' (object-like status) instead of 'uploaded' to indicate
#   that derived content generation is complete and verified
# See docs/STATUS_LIFECYCLE.md for complete status lifecycle documentation

# Filesystem storage example
DEFAULT_STORAGE_BACKEND=fs
FS_BASE_DIR=./content
DATABASE_TYPE=postgres
DATABASE_URL=postgres://pas:pwd@localhost:5432/pas?sslmode=disable&search_path=content
DATABASE_SCHEMA=content
